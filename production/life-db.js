var LifeDB=function(){var e,n,t,i,r,o,f,s,u,a,d,c,p,y,g,m,N,h,S,v,l,b,D,O,J,E,B,q,w;this.initiate,this.insert,this.update,this.find,this.remove,this.destroy,i={dbNameNotSpecified:"Database name mast have to provide in time of initiating the database",pageNameCannotBeEmpty:"Page name required",pageDoesnotExists:"Provided page doesn't exists"},N=["@eq","@lt","@gt","@le","@ge"],O=function(e,t,i){var r,o,f,s,u,a;o=B(e),r=B(e,t),u=[];for(f in o){a=0;for(s in r)if(JSON.stringify(o[f])==JSON.stringify(r[s])){a=1;break}a?u.push(i):u.push(o[f])}return n(e,u,!0),r.length},D=function(e,t){var i,r,o,f,s,u;r=B(e),i=B(e,t),s=[];for(o in r){u=0;for(f in i)if(JSON.stringify(r[o])==JSON.stringify(i[f])){u=1;break}u||s.push(r[o])}return n(e,s,!0),i.length},h=function(e,n,t){return"undefined"==typeof e[n]?!1:JSON.stringify(e[n])==JSON.stringify(t)},S=function(e,n,t){return"undefined"==typeof e[n]?!1:isNaN(e[n])?!1:e[n]>t},l=function(e,n,t){return"undefined"==typeof e[n]?!1:isNaN(e[n])?!1:e[n]>=t},v=function(e,n,t){return"undefined"==typeof e[n]?!1:isNaN(e[n])?!1:e[n]<t},b=function(e,n,t){return"undefined"==typeof e[n]?!1:isNaN(e[n])?!1:e[n]<=t},y=function(e){return u[e]},m=function(e,n){var t,i,r;for(i in N)if(-1!==n.indexOf(N[i])){t=N[i];break}switch(r=n.split(" "+t+" "),t){case"@eq":return h(e,r[0],r[1]);case"@gt":return S(e,r[0],r[1]);case"@lt":return v(e,r[0],r[1]);case"@ge":return l(e,r[0],r[1]);case"@le":return b(e,r[0],r[1])}},g=function(e,n){var t,i,r,o;t=n.split(" || "),o=[];for(r in e)for(i in t)if(m(e[r],t[i])){o.push(e[r]);break}return o},chopDataByLimit=function(e,n){var t,i;t=[];for(i in e)if(!(i<n[0])){if(i>n[1])break;t.push(e[i])}return t},sortData=function(e,n,t){return"asc"===n?e.sort(function(e,n){return Number(e[t])-Number(n[t])}):e.sort(function(e,n){return Number(n[t])-Number(e[t])})},p=function(e,n,t,i){var r,o,f,s;if(r=y(e),"undefined"!=typeof n&&""!==n.trim()){o=n.split(" && ");for(f in o)r=g(r,o[f])}return 0!==t[1]&&(r=chopDataByLimit(r,t)),""!=i[0].trim()&&""!=i[1].trim()&&(s=i[1].trim().toLowerCase(),"asc"!=s&&"desc"!=s||r.length>=1&&!isNaN(Number(r[0][i[0].trim()]))&&(r=sortData(r,s,i[0].trim()))),r},c=function(e){return"undefined"!=typeof u[e]},d=function(){var n;!f&&o?"undefined"==typeof sessionStorage[e]||""!==sessionStorage[e].trim()&&(u=JSON.parse(sessionStorage[e])):f&&(n=require("fs"),n.statSync(e).isFile()&&(u=JSON.parse(n.readFileSync(e))))},n=function(e,n,t){var i;try{if("undefined"==typeof u&&(u={}),"undefined"==typeof u[e]&&(u[e]=[]),"undefined"!=typeof t&&t&&(u[e]=[]),Array.isArray(n)){for(i in n)u[e].push(n[i]);return i}return globallDataStorage[e].push(n),1}catch(r){return 0}},a=function(){var n;!f&&o?sessionStorage[e]=JSON.stringify(u):f&&(n=require("fs"),n.writeFileSync(e,JSON.stringify(u)))},t=function(e){console.error(i[e])},s=function(){f=this!==window},r=function(){"undefined"!=typeof sessionStorage?(o=!0,"undefined"==typeof sessionStorage[e]&&(sessionStorage[e]="")):o=!1},q=function(e,n,i){var r;return""===e.trim()?(t("pageNameCannotBeEmpty"),!1):c(e)?(r=D(e,n),("undefined"==typeof i||i)&&a(),r):(t("pageDoesnotExists"),!1)},J=function(e,t,i){var r;return r=n(e,t),("undefined"==typeof i||i)&&a(),r?r:0},B=function(e,n,i,r){return""===e.trim()?(t("pageNameCannotBeEmpty"),!1):c(e)?("undefined"!=typeof i&&Array.isArray(i)||(i=[0,0]),"undefined"!=typeof r&&Array.isArray(r)||(r=["",""]),p(e,n,i,r)):(t("pageDoesnotExists"),!1)},E=function(e,n,i,r){var o;return""===e.trim()?(t("pageNameCannotBeEmpty"),!1):c(e)?(o=O(e,n,i),("undefined"==typeof r||r)&&a(),o):(t("pageDoesnotExists"),!1)},w=function(e){var n;!f&&o?sessionStorage[e]=null:f&&(n=require("fs"),n.writeFileSync(e,""))},this.initiate=function(){return"undefined"==typeof arguments[0][0]?(t("dbNameNotSpecified"),!1):(e=arguments[0][0],"object"!=typeof u&&(u={}),r(),s(),void d())}(arguments),this.insert=function(e,n,t){return J(e,n,t)},this.find=function(e,n,t,i){return B(e,n,t,i)},this.remove=function(e,n,t){return q(e,n,t)},this.update=function(e,n,t,i){return E(e,n,t,i)},this.destroy=function(e){return w(e)}};